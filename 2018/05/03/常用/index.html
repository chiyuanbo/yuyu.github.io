<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="常用"><meta name="keywords" content=""><meta name="author" content="YB-Chi,undefined"><meta name="copyright" content="YB-Chi"><title>常用 | YB-Chi</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.3"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  localSearch: {"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}"},"path":"search.xml"}
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">YB-Chi</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">45</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">3</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://osapnihnq.bkt.clouddn.com/blog/180428/0GDEA8hFH0.jpg?imageslim)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">YB-Chi</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">常用</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-05-03</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><p>==作者：YuanBo-Chi==</p>
<p>[toc]</p>
<p>==注意！Hadoop需要配置环境变量==</p>
<p>.class.getResourceAsStream()读取的文件路径只局限与工程的源文件夹中，包括在工程src根目录下，以及类包里面任何位置，但是如果配置文件路径是在除了源文件夹之外的其他文件夹中时，该方法是用不了的。</p>
<p>连接phoenix</p>
<pre><code>sqlline.py localhost

!help查看帮助指令
!all                Execute the specified SQL against all the current connections
!autocommit         Set autocommit mode on or off
!batch              Start or execute a batch of statements
!brief              Set verbose mode off
!call               Execute a callable statement
!close              Close the current connection to the database
!closeall           Close all current open connections
!columns            List all the columns for the specified table
!commit             Commit the current transaction (if autocommit is off)
!connect            Open a new connection to the database.
!dbinfo             Give metadata information about the database
!describe           Describe a table
!dropall            Drop all tables in the current database
!exportedkeys       List all the exported keys for the specified table
!go                 Select the current connection
!help               Print a summary of command usage
!history            Display the command history
!importedkeys       List all the imported keys for the specified table
!indexes            List all the indexes for the specified table
!isolation          Set the transaction isolation for this connection
!list               List the current connections
!manual             Display the SQLLine manual
!metadata           Obtain metadata information
!nativesql          Show the native SQL for the specified statement
!outputformat       Set the output format for displaying results
                    (table,vertical,csv,tsv,xmlattrs,xmlelements)
!primarykeys        List all the primary keys for the specified table
!procedures         List all the procedures
!properties         Connect to the database specified in the properties file(s)
!quit               Exits the program
!reconnect          Reconnect to the database
!record             Record all output to the specified file
!rehash             Fetch table and column names for command completion
!rollback           Roll back the current transaction (if autocommit is off)
!run                Run a script from the specified file
!save               Save the current variabes and aliases
!scan               Scan for installed JDBC drivers
!script             Start saving a script to a file
!set                Set a sqlline variable

!tables查看所有表
select * from FJUDM4.HBASE_MD_OMS_T_PROTECTAZFXYB ;//查询的时候库名+表名
</code></pre><p>linux使用jdbc的方式去连接hive 可以测试jdbc是否能用</p>
<p>beeline -u jdbc:hive2://192.168.6.1:10009 -n yarn<br>jdbc的ResultSetMetaData.getColumnCount()是列的数量</p>
<p>北京实验室环境</p>
<p>D:\电科院\集群环境-新.html</p>
<p>tab的反向是shift+tab</p>
<p>dm的查询不加库名和中间名会查不出来<br>复制路径打开dm的说明：D:\电科院\随记\DM.docx</p>
<p><img src="https://ooo.0o0.ooo/2017/06/02/5930d29698dfa.png" alt=""></p>
<p>hive文档的路径：D:\电科院\随记\hive.docx</p>
<p>遍历ResultSet</p>
<p>为什么遍历ResultSet，行列要从1开始。</p>
<p>因为Resultset的第一行的第一列都是空的，要用rs.next()到第一行才能进行读取。</p>
<pre><code>Statement stmt=null;
ResultSet rs=null;
ResultSetMetaDatam=null;//获取 列信息

try
{
stmt=con.createStatement();
rs=stmt.executeQuery(sql);
m=rs.getMetaData();

int columns=m.getColumnCount();
==//显示列,表格的表头==
==(绝对不可以使用while(rs.next())去遍历)==
for(int i=1;i&lt;=columns;i++)
{
System.out.print(m.getColumnName(i));
System.out.print(&quot;\t\t&quot;);
}

System.out.println();
==//显示表格内容==
while(rs.next())
{
for(int i=1;i&lt;=columns;i++)
{
System.out.print(rs.getString(i));
System.out.print(&quot;\t\t&quot;);
}
System.out.println();
}
</code></pre><p>hive查询的double格式能显示全部小数，dm显示4位<br>hive查询的表结构小写，dm大写</p>
<p>将double类型保留两位小数</p>
<pre><code>double d = (double)Math.round(Double.valueOf(str)*100)/100;这个方法有问题如果是5.00  转换为5.0

Double d = Double.valueOf(str);
DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);
String d2 =  df.format(d);这个方法不好用  比如0.25  处理后会变为.25

String.format(&quot;%.2f&quot;, Double.valueOf(str))使用这个
</code></pre></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">YB-Chi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2018/05/03/常用/">http://yoursite.com/2018/05/03/常用/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/05/03/windows安装elasticsearch/"><i class="fa fa-chevron-left">  </i><span>windows安装elasticsearch</span></a></div><div class="next-post pull-right"><a href="/2018/05/03/VMWARE克隆虚机更改静态IP/"><span>VMWARE克隆虚机更改静态IP</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2018 By YB-Chi</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.3"></script><script src="/js/fancybox.js?version=1.5.3"></script><script src="/js/sidebar.js?version=1.5.3"></script><script src="/js/copy.js?version=1.5.3"></script><script src="/js/fireworks.js?version=1.5.3"></script><script src="/js/transition.js?version=1.5.3"></script><script src="/js/scroll.js?version=1.5.3"></script><script src="/js/head.js?version=1.5.3"></script></body></html>